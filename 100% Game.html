<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ARENA v15 | Titan Integrated Suite</title>
    <style>
        :root {
            /* Default Dark Theme */
            --primary: #8b5cf6; --primary-light: #a78bfa; --primary-dark: #6d28d9;
            --bg: #030712; --card: #111827; --sidebar: #0f172a;
            --text-main: #f3f4f6; --text-dim: #9ca3af;
            --success: #10b981; --danger: #ef4444; --border: #1f2937;
            --accent: #f59e0b;
        }

        /* Light Mode Overrides */
        body.light-mode {
            --bg: #f9fafb; --card: #ffffff; --sidebar: #f3f4f6;
            --text-main: #111827; --text-dim: #4b5563;
            --border: #e5e7eb;
            --primary-dark: #4c1d95;
        }

        * { box-sizing: border-box; transition: 0.25s cubic-bezier(0.4, 0, 0.2, 1); }
        body { margin: 0; font-family: 'Inter', system-ui, sans-serif; background: var(--bg); color: var(--text-main); height: 100vh; overflow: hidden; }
        .hidden { display: none !important; }

        /* --- AUTHENTICATION --- */
        .auth-container { height: 100vh; display: flex; align-items: center; justify-content: center; background: radial-gradient(circle at 70% 30%, #1e1b4b 0%, var(--bg) 100%); }
        .auth-card { width: 420px; padding: 3rem; border-radius: 28px; background: var(--card); backdrop-filter: blur(25px); border: 1px solid var(--border); box-shadow: 0 25px 50px -12px rgba(0,0,0,0.7); }
        .input-group { margin-bottom: 1.2rem; }
        label { display: block; font-size: 0.75rem; font-weight: 600; color: var(--text-dim); margin-bottom: 0.5rem; text-transform: uppercase; letter-spacing: 0.05em; }
        input, select { width: 100%; padding: 14px; border-radius: 12px; background: var(--bg); border: 1px solid var(--border); color: var(--text-main); outline: none; font-size: 0.95rem; }
        input:focus { border-color: var(--primary); box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2); }

        /* --- APP LAYOUT --- */
        .app-shell { display: grid; grid-template-columns: 280px 1fr 320px; grid-template-rows: 80px 1fr; height: 100vh; }
        header { grid-column: span 3; background: var(--sidebar); backdrop-filter: blur(10px); border-bottom: 1px solid var(--border); display: flex; align-items: center; justify-content: space-between; padding: 0 2.5rem; z-index: 100; }
        
        .nav-side { background: var(--sidebar); border-right: 1px solid var(--border); padding: 2rem; display: flex; flex-direction: column; gap: 2.5rem; }
        .main-stage { padding: 3rem; overflow-y: auto; background: var(--bg); position: relative; }
        .chat-side { background: var(--sidebar); border-left: 1px solid var(--border); display: flex; flex-direction: column; }

        /* --- GAME CARDS & LOGOS --- */
        .game-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 25px; margin-top: 2rem; }
        .game-card { border-radius: 24px; background: var(--card); border: 1px solid var(--border); padding: 2.5rem; cursor: pointer; position: relative; overflow: hidden; display: flex; flex-direction: column; align-items: center; text-align: center; }
        .game-card:hover { transform: translateY(-8px); border-color: var(--primary); box-shadow: 0 20px 40px -15px rgba(139, 92, 246, 0.3); }
        .game-logo { width: 90px; height: 90px; margin-bottom: 1.5rem; background: var(--bg); border-radius: 24px; display: flex; align-items: center; justify-content: center; box-shadow: inset 0 0 20px rgba(0,0,0,0.2); }
        
        /* --- GAME UI --- */
        .ttt-grid { display: grid; grid-template-columns: repeat(3, 120px); gap: 12px; justify-content: center; margin: 2.5rem 0; }
        .ttt-cell { width: 120px; height: 120px; background: var(--sidebar); border: 1px solid var(--border); border-radius: 16px; display: flex; align-items: center; justify-content: center; font-size: 3.5rem; font-weight: 800; cursor: pointer; color: var(--text-main); }
        .ttt-cell:hover { background: var(--card); transform: scale(1.02); }

        .chess-grid { display: grid; grid-template-columns: repeat(8, 60px); grid-template-rows: repeat(8, 60px); border: 8px solid var(--border); border-radius: 8px; box-shadow: 0 25px 60px rgba(0,0,0,0.6); }
        .c-sq { width: 60px; height: 60px; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; cursor: pointer; }
        .c-light { background: #cbd5e1; color: #0f172a; }
        .c-dark { background: #475569; color: white; }
        .c-selected { background: var(--accent) !important; color: white !important; }

        /* --- BUTTONS & HUD --- */
        .btn { padding: 14px 28px; border-radius: 12px; border: none; font-weight: 700; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 12px; font-size: 0.9rem; text-transform: uppercase; letter-spacing: 0.05em; }
        .btn-p { background: var(--primary); color: white; }
        .btn-p:hover { background: var(--primary-dark); transform: scale(1.02); }
        .btn-s { background: transparent; border: 1px solid var(--border); color: var(--text-dim); }
        .btn-s:hover { border-color: var(--text-dim); color: var(--text-main); }

        .theme-toggle { width: 44px; height: 44px; border-radius: 12px; background: var(--card); border: 1px solid var(--border); color: var(--text-main); cursor: pointer; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }

        #toast { position: fixed; bottom: 30px; left: 50%; transform: translateX(-50%); padding: 14px 40px; border-radius: 50px; z-index: 10000; display: none; font-weight: 700; color: white; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
    </style>
</head>
<body>

<div id="toast"></div>

<div class="auth-container" id="v-auth">
    <div class="auth-card">
        <div style="text-align: center; margin-bottom: 2.5rem;">
            <div style="width:60px; height:60px; background:var(--primary); border-radius:18px; display:flex; align-items:center; justify-content:center; font-weight:900; font-size:1.8rem; margin:0 auto 1rem; box-shadow: 0 10px 20px var(--primary-dark); color: white;">T</div>
            <h2 style="margin:0; letter-spacing: -0.5px; font-size:1.8rem;">TITAN ARENA</h2>
        </div>
        
        <div class="input-group">
            <label>Operator ID</label>
            <input type="text" id="auth-u" placeholder="Enter identification">
        </div>
        <div class="input-group">
            <label>Security Key</label>
            <input type="password" id="auth-p" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
        </div>

        <div id="reg-fields" class="hidden">
            <div class="input-group">
                <label>Clearance Level</label>
                <select id="auth-r">
                    <option value="Player">Player</option>
                    <option value="Spectator">Spectator</option>
                    <option value="Admin">Admin</option>
                </select>
            </div>
        </div>

        <button class="btn btn-p" onclick="handleAuth()" id="main-auth-btn" style="width:100%">Initialize Link</button>
        <button class="btn btn-s" onclick="toggleRegMode()" id="switch-auth-btn" style="width:100%; margin-top:1rem; border:none;">New Identity?</button>
    </div>
</div>

<div class="app-shell hidden" id="v-app">
    <header>
        <div style="display:flex; align-items:center; gap:1.2rem;">
            <div style="width:40px; height:40px; background:var(--primary); border-radius:10px; display:flex; align-items:center; justify-content:center; font-weight:900; font-size:1.2rem; color: white;">T</div>
            <div>
                <h3 style="margin:0; font-size:1.1rem; letter-spacing: 0.5px;">TITAN_OS</h3>
                <span id="sys-status" style="font-size:0.65rem; color:var(--success); font-weight:700;">‚óè CORE_ACTIVE_V15</span>
            </div>
        </div>
        <div id="user-badge" style="display:flex; align-items:center; gap:1.5rem;">
            <button class="theme-toggle" onclick="toggleDarkMode()" title="Toggle Visual Interface">üåì</button>
            <div style="text-align:right">
                <div id="u-display-n" style="font-weight:700; font-size:1rem;">Username</div>
                <div id="u-display-r" style="font-size:0.7rem; color:var(--primary); font-weight:800; text-transform:uppercase; letter-spacing:0.1em;">Level 1 Operative</div>
            </div>
            <button class="btn btn-s" onclick="location.reload()" style="padding:8px 16px; font-size:0.7rem;">Terminate</button>
        </div>
    </header>

    <aside class="nav-side">
        <div>
            <h4 style="color:var(--text-dim); margin-bottom:1.5rem; font-size:0.75rem; letter-spacing:0.1em; text-transform:uppercase;">Titan Leaderboard</h4>
            <div id="leaderboard-list" style="display:flex; flex-direction:column; gap:0.8rem;"></div>
        </div>
        <div id="admin-panel" class="hidden" style="margin-top:auto; padding:1.5rem; background:rgba(239, 68, 68, 0.05); border-radius:16px; border:1px solid rgba(239, 68, 68, 0.2);">
            <h4 style="color:var(--danger); margin-bottom:1rem; font-size:0.7rem; font-weight:800;">ROOT CONSOLE</h4>
            <button class="btn btn-s" style="width:100%; border-color:var(--danger); color:var(--danger); font-size:0.7rem;" onclick="resetSystemData()">Format Database</button>
        </div>
    </aside>

    <main class="main-stage">
        <div id="s-dash">
            <h1 style="margin-top:0; font-size:2rem; letter-spacing: -0.02em;">Deployment Modules</h1>
            <div class="game-grid">
                <div class="game-card" onclick="openLobby('Tic-Tac-Toe')">
                    <div class="game-logo">
                        <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M3 9H21M3 15H21M9 3V21M15 3V21" stroke="#8b5cf6" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <h3 style="margin:0 0 0.5rem;">Matrix 3x3</h3>
                    <p style="color:var(--text-dim); font-size:0.85rem; margin:0;">Neural-link deterministic logic.</p>
                </div>
                <div class="game-card" onclick="openLobby('Chess')">
                    <div class="game-logo">
                        <svg width="50" height="50" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path d="M8 22H16M7 19H17M12 19V15M12 7V3M9 10C9 10 11 11 12 11C13 11 15 10 15 10C15 10 17 9.5 17 7C17 4.23858 14.7614 2 12 2C9.23858 2 7 4.23858 7 7C7 9.5 9 10 9 10ZM12 15L9 19H15L12 15Z" stroke="#f59e0b" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        </svg>
                    </div>
                    <h3 style="margin:0 0 0.5rem;">Grandmaster Chess</h3>
                    <p style="color:var(--text-dim); font-size:0.85rem; margin:0;">Asynchronous strategic warfare.</p>
                </div>
            </div>

            <div id="lobby-panel" class="hidden" style="margin-top:3rem; padding:2.5rem; border-radius:24px; background:var(--card); border:1px solid var(--border); box-shadow: 0 20px 50px rgba(0,0,0,0.3);">
                <div style="display:flex; justify-content:space-between; align-items:center;">
                    <div>
                        <h2 id="lobby-title" style="margin:0; font-size:1.4rem;">Lobby</h2>
                        <p id="lobby-status" style="color:var(--text-dim); margin-top:8px; font-weight:500;">Establishing uplink...</p>
                    </div>
                    <div style="display:flex; gap:15px;">
                        <button class="btn btn-p" id="btn-join" onclick="joinQueue()">Join Match</button>
                        <button class="btn btn-s hidden" id="btn-solo" onclick="startSolo()">AI Simulation</button>
                    </div>
                </div>
            </div>
        </div>

        <div id="s-game" class="hidden">
            <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:3rem; padding-bottom:1.5rem; border-bottom:1px solid var(--border);">
                <div>
                    <h2 id="match-label" style="margin:0; font-size:1.5rem;">Session</h2>
                    <div id="turn-indicator" style="font-weight:700; color:var(--primary); font-size:0.8rem; text-transform:uppercase; margin-top:5px;">System: Processing</div>
                </div>
                <button class="btn btn-s" onclick="returnToDash()">Abort</button>
            </div>
            <div id="ttt-container" class="ttt-grid hidden"></div>
            <div id="chess-container" style="display:flex; justify-content:center;" class="hidden">
                <div id="chess-board" class="chess-grid"></div>
            </div>
            <div id="game-end-overlay" class="hidden" style="text-align:center; padding:3rem; background:rgba(0,0,0,0.8); border-radius:30px; position:absolute; top:50%; left:50%; transform:translate(-50%, -50%); width:80%; backdrop-filter:blur(10px); border:1px solid var(--primary);">
                <h1 id="winner-msg" style="color:var(--success); font-size:4rem; margin:0; font-weight:900;">DEFEATED</h1>
                <button class="btn btn-p" style="margin: 2rem auto 0;" onclick="returnToDash()">Exit Session</button>
            </div>
        </div>
    </main>

    <aside class="chat-side">
        <div style="padding:1.5rem; border-bottom:1px solid var(--border); display:flex; justify-content:space-between; align-items:center;">
            <h4 style="margin:0; font-size:0.75rem; font-weight:800; letter-spacing:0.1em;">SIGNAL RELAY</h4>
            <span style="width:8px; height:8px; background:var(--success); border-radius:50%;"></span>
        </div>
        <div id="chat-msgs" style="flex-grow:1; overflow-y:auto; padding:1.5rem; display:flex; flex-direction:column; gap:12px; font-size:0.85rem;"></div>
        <div style="padding:1.5rem; background:rgba(0,0,0,0.2);">
            <div style="display:flex; gap:10px; background:var(--bg); padding:5px; border-radius:12px; border:1px solid var(--border);">
                <input type="text" id="chat-input" placeholder="Type signal..." style="border:none; background:transparent; color: var(--text-main);">
                <button class="btn btn-p" onclick="sendChatMsg()" style="padding:10px; width:45px; border-radius:8px;">></button>
            </div>
        </div>
    </aside>
</div>

<script>
    // --- AUDIO ENGINE ---
    const TitanSound = {
        ctx: null,
        init() { if(!this.ctx) this.ctx = new (window.AudioContext || window.webkitAudioContext)(); },
        play(freq, type, dur, vol) {
            this.init();
            const osc = this.ctx.createOscillator();
            const gain = this.ctx.createGain();
            osc.type = type;
            osc.frequency.setValueAtTime(freq, this.ctx.currentTime);
            gain.gain.setValueAtTime(vol, this.ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.0001, this.ctx.currentTime + dur);
            osc.connect(gain);
            gain.connect(this.ctx.destination);
            osc.start();
            osc.stop(this.ctx.currentTime + dur);
        },
        click() { this.play(600, 'sine', 0.1, 0.1); },
        confirm() { this.play(800, 'sine', 0.2, 0.1); setTimeout(()=>this.play(1200, 'sine', 0.2, 0.1), 50); },
        error() { this.play(150, 'sawtooth', 0.3, 0.1); },
        notify() { this.play(440, 'triangle', 0.4, 0.05); }
    };

    // --- SYSTEM LOGIC ---
    const db = {
        users: JSON.parse(localStorage.getItem('titan_db')) || {
            "TITAN_01": { p: "Titan!12", r: "Admin", w: 50 },
        },
        lobby: [],
        save: () => localStorage.setItem('titan_db', JSON.stringify(db.users))
    };

    let state = {
        user: null, game: null, isSolo: false, regMode: false,
        match: { active: false, board: [], turn: 'X', players: [] },
        chess: { selected: null }
    };

    const chessIcons = {
        'White': { p:'‚ôô', r:'‚ôñ', n:'‚ôò', b:'‚ôó', q:'‚ôï', k:'‚ôî' },
        'Black': { p:'‚ôü', r:'‚ôú', n:'‚ôû', b:'‚ôù', q:'‚ôõ', k:'‚ôö' }
    };

    function toggleDarkMode() {
        document.body.classList.toggle('light-mode');
        TitanSound.click();
    }

    function toggleRegMode() {
        state.regMode = !state.regMode;
        document.getElementById('reg-fields').classList.toggle('hidden', !state.regMode);
        document.getElementById('main-auth-btn').innerText = state.regMode ? "Create Identity" : "Initialize Link";
        document.getElementById('switch-auth-btn').innerText = state.regMode ? "Uplink Active?" : "New Identity?";
        TitanSound.click();
    }

    function handleAuth() {
        const u = document.getElementById('auth-u').value.trim();
        const p = document.getElementById('auth-p').value;
        const sym = /[!@#$%^&*]/;

        if(!u || !p) {
            TitanSound.error();
            return notify("Fields Required", "danger");
        }

        if(state.regMode) {
            if(p.length < 6 || !sym.test(p)) {
                TitanSound.error();
                return notify("Security Key Weak", "danger");
            }
            if(db.users[u]) {
                TitanSound.error();
                return notify("ID Taken", "danger");
            }
            db.users[u] = { p, r: document.getElementById('auth-r').value, w: 0 };
            db.save();
            TitanSound.confirm();
            notify("Identity virtualized.");
        }

        if(db.users[u] && db.users[u].p === p) {
            state.user = { name: u, ...db.users[u] };
            TitanSound.confirm();
            launchApp();
        } else {
            TitanSound.error();
            notify("Access Denied", "danger");
        }
    }

    function launchApp() {
        document.getElementById('v-auth').classList.add('hidden');
        document.getElementById('v-app').classList.remove('hidden');
        document.getElementById('u-display-n').innerText = state.user.name;
        document.getElementById('u-display-r').innerText = state.user.r;
        if(state.user.r === 'Admin') document.getElementById('admin-panel').classList.remove('hidden');
        renderLeaderboard();
        notify("Link Established.");
    }

    function openLobby(game) {
        if(state.user.r === 'Spectator') {
            TitanSound.error();
            return notify("Spectators Restricted", "danger");
        }
        state.game = game;
        document.getElementById('lobby-panel').classList.remove('hidden');
        document.getElementById('lobby-title').innerText = game.toUpperCase() + " SECTOR";
        document.getElementById('lobby-status').innerText = "Establishing uplink... Awaiting participants.";
        TitanSound.click();
    }

    function joinQueue() {
        if(!db.lobby.includes(state.user.name)) db.lobby.push(state.user.name);
        document.getElementById('lobby-status').innerText = `Syncing Operatives (${db.lobby.length}/2)`;
        document.getElementById('btn-join').disabled = true;
        document.getElementById('btn-solo').classList.remove('hidden');
        TitanSound.click();
        if(db.lobby.length >= 2) startMatch(db.lobby[0], db.lobby[1]);
    }

    function startSolo() {
        state.isSolo = true;
        TitanSound.confirm();
        startMatch(state.user.name, "TITAN_AI");
    }

    function startMatch(p1, p2) {
        state.match = { active: true, board: [], turn: state.game === 'Chess' ? 'White' : 'X', players: [p1, p2] };
        document.getElementById('s-dash').classList.add('hidden');
        document.getElementById('s-game').classList.remove('hidden');
        document.getElementById('match-label').innerText = `Titan Conflict: ${p1} vs ${p2}`;
        
        if(state.game === 'Tic-Tac-Toe') {
            state.match.board = Array(9).fill(null);
            document.getElementById('ttt-container').classList.remove('hidden');
            renderTTT();
        } else {
            initChessData();
            document.getElementById('chess-container').classList.remove('hidden');
            renderChess();
        }
        updateTurnUI();
    }

    function renderTTT() {
        const c = document.getElementById('ttt-container');
        c.innerHTML = '';
        state.match.board.forEach((v, i) => {
            const el = document.createElement('div');
            el.className = 'ttt-cell';
            el.innerText = v || '';
            el.style.color = v === 'X' ? 'var(--primary-light)' : 'var(--accent)';
            el.onclick = () => {
                if(!state.match.active || state.match.board[i]) return;
                TitanSound.click();
                state.match.board[i] = state.match.turn;
                renderTTT();
                if(checkTTTWin()) return endMatch(state.match.players[state.match.turn === 'X' ? 0 : 1]);
                if(!state.match.board.includes(null)) return endMatch("Draw");
                state.match.turn = state.match.turn === 'X' ? 'O' : 'X';
                updateTurnUI();
                if(state.isSolo && state.match.turn === 'O') setTimeout(aiTTT, 500);
            };
            c.appendChild(el);
        });
    }

    function checkTTTWin() {
        const w = [[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
        return w.some(c => c.every(i => state.match.board[i] === state.match.turn));
    }

    function aiTTT() {
        const free = state.match.board.map((v,i)=>v===null?i:null).filter(v=>v!==null);
        if(free.length) { 
            state.match.board[free[Math.floor(Math.random()*free.length)]] = 'O'; 
            TitanSound.click();
            renderTTT(); 
            if(checkTTTWin()) endMatch("TITAN_AI"); 
            else { state.match.turn = 'X'; updateTurnUI(); }
        }
    }

    function initChessData() {
        state.match.board = Array(64).fill(null);
        const r = ['r','n','b','q','k','b','n','r'];
        for(let i=0; i<8; i++) {
            state.match.board[i] = { t: r[i], c: 'Black' };
            state.match.board[i+8] = { t: 'p', c: 'Black' };
            state.match.board[i+48] = { t: 'p', c: 'White' };
            state.match.board[i+56] = { t: r[i], c: 'White' };
        }
    }

    function renderChess() {
        const b = document.getElementById('chess-board'); b.innerHTML = '';
        state.match.board.forEach((sq, i) => {
            const d = document.createElement('div');
            d.className = `c-sq ${(Math.floor(i/8)+i)%2?'c-dark':'c-light'} ${state.chess.selected===i?'c-selected':''}`;
            if(sq) d.innerText = chessIcons[sq.c][sq.t];
            d.onclick = () => {
                if(!state.match.active) return;
                TitanSound.click();
                if(state.chess.selected === null) {
                    if(sq && sq.c === state.match.turn) { state.chess.selected = i; renderChess(); }
                } else {
                    if(state.chess.selected !== i) {
                        if(state.match.board[i]?.t === 'k') return endMatch(state.match.turn);
                        state.match.board[i] = state.match.board[state.chess.selected];
                        state.match.board[state.chess.selected] = null;
                        state.match.turn = state.match.turn === 'White' ? 'Black' : 'White';
                    }
                    state.chess.selected = null; renderChess(); updateTurnUI();
                }
            };
            b.appendChild(d);
        });
    }

    function updateTurnUI() {
        const cur = (state.match.turn === 'X' || state.match.turn === 'White') ? state.match.players[0] : state.match.players[1];
        document.getElementById('turn-indicator').innerText = `Active Turn: ${cur}`;
    }

    function endMatch(winner) {
        state.match.active = false;
        TitanSound.confirm();
        document.getElementById('game-end-overlay').classList.remove('hidden');
        document.getElementById('winner-msg').innerText = winner === "Draw" ? "STALEMATE" : winner + " WINS";
        if(winner !== "Draw" && db.users[winner]) { db.users[winner].w++; db.save(); renderLeaderboard(); }
    }

    function notify(m, type="success") {
        const t = document.getElementById('toast');
        t.innerText = m; t.style.display = 'block';
        t.style.background = type === 'danger' ? 'var(--danger)' : 'var(--primary)';
        setTimeout(() => t.style.display = 'none', 3000);
        TitanSound.notify();
    }

    function sendChatMsg() {
        const input = document.getElementById('chat-input');
        if(!input.value) return;
        TitanSound.click();
        const msg = `<div><b style="color:var(--primary)">${state.user.name}:</b> ${input.value}</div>`;
        const chat = document.getElementById('chat-msgs');
        chat.innerHTML += msg; chat.scrollTop = chat.scrollHeight; input.value = '';
    }

    function renderLeaderboard() {
        const sorted = Object.entries(db.users).sort((a,b)=>b[1].w - a[1].w).slice(0,5);
        document.getElementById('leaderboard-list').innerHTML = sorted.map(([n, d], i)=> `<div style="display:flex; justify-content:space-between; background:rgba(128,128,128,0.1); padding:10px; border-radius:10px;">
            <span>#${i+1} ${n}</span><b>${d.w}W</b></div>`).join('');
    }

    function returnToDash() { TitanSound.click(); db.lobby = []; location.reload(); }
    function resetSystemData() { 
        TitanSound.error();
        if(confirm("FORMAT DATABASE?")) { localStorage.clear(); location.reload(); } 
    }
</script>
</body>
</html>